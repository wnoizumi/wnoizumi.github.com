<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Removal of design problems through refactorings: are we looking at the right symptoms?">
    <meta name="author" content="Willian Oizumi">

    <title>ICPC 2019 - Removal of design problems through refactorings: are we looking at the right symptoms?</title>

    <!-- Bootstrap core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="grid.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="design.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="bower_components/highlightjs/styles/xcode.css">
    <script src="bower_components/highlightjs/highlight.pack.min.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>

    <style type="text/css">
        pre {
            border: none;
            background: #ffffff;
            padding: 0px;
        }
        
        .col-md-6 {
            background: #ffffff;
            border: none;
            padding-bottom: 0px;
        }
        
        body {
            padding-top: 70px;
            position: relative;
        }
    </style>

    <script type="text/javascript">
        $(document).ready(function() {
            $('body').scrollspy({
                target: '#mainNavBar'
            })
        });
    </script>
</head>

<body>
    <nav id="mainNavBar" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">
                <ul class="nav navbar-nav">
                    <li><a href="#abstract">Abstract</a></li>
                    <li><a href="#fulltext">Full Text</a></li>
                    <li><a href="#replicationpackage">Replication Package</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>


    <div class="container"  align="center">
        <img src="figures/puc.png" alt="PUC-Rio">
		<img src="figures/logoopus.png" alt="Opus Research Group">
    </div>

    <div class="container">

        <div class="page-header" id="title" align="center">
            <h1>Removal of design problems through refactorings: are we looking at the right symptoms?</h1>
            <br/>
        </div>

        This web page presents the supplementary material of the paper <i>Removal of design problems through refactorings: are we looking at the right symptoms?</i>. <br>
        

        <br>
        Authors: Andre Eposhi, Willian Oizumi, Alessandro Garcia, Leonardo Sousa, Anderson Oliveira, Roberto Oliveira

        <br><br>
        Following sections present the complementary information regarding the paper.

        <h3 class="page-header" id="abstract">Abstract</h3>

        <p class="text-justify">
            A design problem is the result of design decisions that negatively impact quality attributes. For example, a stakeholder introduces a design problem when he decides to addresses multiple unrelated responsibilities in a single class, impacting the modifiability and reusability of the system. Given their negative consequences, design problems should be identified and refactored. The literature still lacks evidence on which symptoms' characteristics can be used as strong indicators of design problems. For example, it is unknown if the density and diversity of certain symptoms (e.g., violations of object-oriented principles) are correlated with the occurrence of design problems. Thus, in this paper, we report a case study involving two C# systems. We evaluated the impact of refactoring, focused on removing design problems, on the density and diversity of symptoms. Results indicate that refactored classes usually present higher density and diversity of symptoms. However, the density and diversity of some symptoms, such as the violation of object-oriented principles, was not predominantly higher in refactored classes. Moreover, contrary to our expectations, refactorings caused almost no positive impact on the density and diversity of symptoms. </p>

    </div>
    <!-- /container -->

    <div class="container">

        <h3 class="page-header" id="fulltext">Full Text</h3>

        <p class="text-justify">
            The paper is available for download in the following link:

			<a href="http://wnoizumi.github.io/ICPC2019/paper.pdf">[Download]</a>
        </p>        
    </div>

    <div class="container">

        <h3 class="page-header" id="replicationpackage">Replication Package</h3>
		
		
		<h4 class="page-header" id="definitions">Definitions</h3>

		<strong>Quality Attribute</strong>
		
        <p class="text-justify">
			The ISO/IEC 25010 standard [20] provides a quality model, which specifies the characteristics that should be analyzed when evaluating software quality. This quality model is composed of eight main quality attributes: Functional Suitability, Efficiency, Compatibility, Usability, Reliability, Security, Maintainability, and Portability. Each quality attribute is subdivided into two or more sub-attributes. Compatibility, for example, is subdivided into co-existence and interoperability. Each	quality attribute should be adequately addressed so that the software is able to meet the expectations of its stakeholders.	In this work, we restricted our analyzes to the following quality attributes:
			<br/><br/>
			• Efficiency: Ability of the software to present appropriate performance, relative to: the amount of resources used, time behaviour, and capacity.
			<br/><br/>
			• Compatibility: Degree to which the software is able to exchange data with other software and/or function while sharing the same hardware or software environment.
			<br/><br/>
			• Reliability: Ability of the software to perform its responsibilities under specified conditions for a specified period of time.
			<br/><br/>
			• Maintainability: Software’s ability to be modified. Modifications may include software patches, enhancements, or adaptations due to changes in the environment and its functional requirements or specifications.
			<br/><br/>
			We focused on these quality attributes because they are the ones that appeared consistently in refactoring tasks of our target systems.
        </p>
		<br/>
		<strong>Design Problems</strong>
		<p class="text-justify">
		Design problems occur when stakeholders make decisions that negatively impact quality attributes [3]–[5]. Each design problem may impact one or more quality attributes. Due to the
negative impact caused by design problems, software systems have often been discontinued or redesigned when they were allowed to persist [6]. Unmanaged Design Problems are design problems that exist
but are neither tracked nor controlled throughout the evolution of the system. An unmanaged design problem occurs because stakeholders either are not aware of its existence or are unable
to track and control it. Thus, in such cases, developers need to identify and to confirm the existence of a design problem. Next, we present an example to illustrate how quality attributes may be impacted by unmanaged design problems
		</p>
		<br/>
		<strong>Design Problem Symptoms</strong>
		<p class="text-justify">
		Sousa et al. [17] identified five types of symptom that developers frequently rely to identify design problems. Similarly to other related work [16], [21]–[23], they observed that
developers tend to combine multiple symptoms, considering dimensions such as diversity and density to decide if there is a design problem or not. According to them, developers often combine two or more of the following symptom types: violation of non-functional requirements, incidence of code smells, misuse of design patterns, violation of quality requirements, and principle violations.
		</p>
		
		<br/>
		<strong>Refactoring</strong>
		<p class="text-justify">
		Refactoring consists in transforming the source code structure without changing the functional behaviour of the system [9], [10]. Thus, we consider that refactoring is any sequence of source code changes that is aimed at improving quality attributes of the system’s design.
		</p>
		
		<h4 class="page-header" id="symptomtypes">Details About Symptom Types</h3>
		
		<strong>Incidence of Code Smells</strong>
        <p class="text-justify">
           Code smells are surface indicators of possible design problems [9]. This type of smell have been extensively investigated by different researchers (e.g. [11], [24]–[26]). Recent studies [16], [17], [21], [23] suggest that combining multiple code smells may improve the precision when identifying design problems. An example of code smell type is the God Class. This type of smell is used to identify classes that are long and excessively complex.
        </p>
		
		<br/>
		<strong>Principle Violations</strong>
        <p class="text-justify">
           In object-oriented systems, design problems usually impact object-oriented design characteristics, such as abstraction, encapsulation, modularity, and hierarchy. Therefore, the second symptom type we used is the principle violation. Principle violations are symptoms that may indicate the violation of object-oriented principles [12]. An example of object-oriented principle is the Single Responsibility Principle, which determines that each class should have a single responsibility in the system [12].
        </p>
		
		<br/>
		<strong>Violation of Quality Requirements</strong>
        <p class="text-justify">
           Quality requirements represent characteristics that are considered fundamental for software design. Examples of quality requirements are coupling, cohesion, and complexity. In this work, we opted for using coupling and complexity as representatives of this type of symptom. Coupling is a fundamental requirement that indicates the number of classes that a single class uses [27]. High coupling usually indicates the class contains one or more design problems. Cyclomatic Complexity, which we call here only by Complexity, is a property that measures the structural complexity of the code [28]. In a simplified way, the complexity of a class is determined by the number of decisions taken by its methods. High complexity usually indicates the class is difficult to maintain. We opted for not collecting cohesion, because the correct measurement of this quality requirement is still challenging.
        </p>

		<h4 class="page-header" id="targetsystems">Target Systems</h3>
		
        <style type="text/css">
            .tg  {border-collapse:collapse;border-spacing:0;}
            .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
            .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
            .tg .tg-0ywr{font-weight:bold;background-color:#67fd9a;color:#333333}
            .tg .tg-yzt1{background-color:#efefef;vertical-align:top}
            .tg .tg-bsv2{background-color:#efefef}
        </style>
        <table class="tg" align="center">
            <caption>
                Table I. Characteristics of Target Systems
            </caption>
			
			<tr>
				<th class="tg-0ywr">Project</th>
				<th class="tg-0ywr">Architectural Style</th>
				<th class="tg-0ywr">Domain</th>
				<th class="tg-0ywr">Size (KLOC)</th>
				<th class="tg-0ywr"># of Commits</th>
			</tr>
			<tr>
				<td class="tg-bsv2"><a href="https://sourceforge.net/projects/openposbr/">OpenPOS</a></td>
				<td class="tg-bsv2">Layers</td>
				<td class="tg-bsv2">Sales</td>
				<td class="tg-bsv2">97</td>
				<td class="tg-bsv2">3318</td>
			</tr>   
			<tr>    
				<td class="tg-bsv2"><a href="https://sourceforge.net/projects/uninfe/">UniNFe</a></td>
				<td class="tg-bsv2">Layers</td>
				<td class="tg-bsv2">Invoice</td>
				<td class="tg-bsv2">492</td>
				<td class="tg-bsv2">2373</td>
			</tr>
			<tr>
				<td class="tg-bsv2" colspan="5">KLOC = Kilo Lines of Code</td>
			</tr>			            
        </table>
		
	<h4 class="page-header" id="refactoringtasks">Detailed List of Refactoring Tasks</h3>
	
	<p class="text-justify">
	   <a href="http://wnoizumi.github.io/ICPC2019/replication/refactoringtasks.docx">Refactoring Tasks</a>
	</p>

	<h4 class="page-header" id="rawdata">Raw Data</h3>

	<ul class="raw-data">
	  <li><a href="http://wnoizumi.github.io/ICPC2019/replication/symptoms-openpos.zip">Collected Symptoms - OpenPOS</a></li>
	  <li><a href="http://wnoizumi.github.io/ICPC2019/replication/symptoms-uninfe.zip">Collected Symptoms - UniNFe</a></li>
	  <li><a href="http://wnoizumi.github.io/ICPC2019/replication/stats-openpos.txt">Statistics - OpenPOS</a></li>
	  <li><a href="http://wnoizumi.github.io/ICPC2019/replication/stats-uninfe.txt">Statistics - UniNFe</a></li>  
	</ul>

        
    </div>
	
	
	<div class="container">
	
	<h4 class="page-header" id="references">References</h3>
	
<br/><br/>[1] J. Offutt, “Quality attributes of web software applications,” IEEE Softw., vol. 19, no. 2, pp. 25–32, Mar. 2002. [Online]. Available: https://doi.org/10.1109/52.991329
<br/><br/>[2] I. Gorton, Essential software architecture. Springer Science & Business Media, 2006.
<br/><br/>[3] Z. Li, P. Avgeriou, and P. Liang, “A systematic mapping study on technical debt and its management,” J. Syst. Softw., vol. 101, no. C, pp. 193–220, Mar. 2015. [Online]. Available: http://dx.doi.org/10.1016/j.jss.2014.12.027
<br/><br/>[4] E. Lim, N. Taksande, and C. Seaman, “A balancing act: What software practitioners have to say about technical debt,” IEEE Software, vol. 29, no. 6, pp. 22–27, Nov 2012.
<br/><br/>[5] T. Besker, A. Martini, and J. Bosch, “Time to pay up: Technical debt from a software quality perspective,” in Proceedings of the XX Iberoamerican Conference on Software Engineering, Buenos Aires, Argentina, May 22-23, 2017., 2017, pp. 235–248.
<br/><br/>[6] A. MacCormack, J. Rusnak, and C. Baldwin, “Exploring the structure of complex software designs: An empirical study of open source and proprietary code,” Manage. Sci., vol. 52, no. 7, pp. 1015–1030, 2006.
<br/><br/>[7] M. C. O. Silva, M. T. Valente, and R. Terra, “Does technical debt lead to the rejection of pull requests?” in Proceedings of the 12th Brazilian Symposium on Information Systems, ser. SBSI ’16, 2016, pp. 248–254.
<br/><br/>[8] B. Curtis, J. Sappidi, and A. Szynkarski, “Estimating the size, cost, and types of technical debt,” in Proceedings of the Third International Workshop on Managing Technical Debt, ser. MTD ’12. Piscataway, NJ, USA: IEEE Press, 2012, pp. 49–53. [Online]. Available: http://dl.acm.org/citation.cfm?id=2666036.2666045
<br/><br/>[9] M. Fowler, Refactoring: Improving the Design of Existing Code. Boston: Addison-Wesley Professional, 1999.
<br/><br/>[10] E. J. Chikofsky and J. H. Cross, “Reverse engineering and design recovery: a taxonomy,” IEEE Software, vol. 7, no. 1, pp. 13–17, Jan 1990.
<br/><br/>[11] E. Murphy-Hill and A. P. Black, “An interactive ambient visualization for code smells,” in Proceedings of the 5th international symposium on Software visualization; Salt Lake City, USA. ACM, 2010, pp. 5–14.
<br/><br/>[12] R. C. Martin and M. Martin, Agile Principles, Patterns, and Practices in C# (Robert C. Martin). Upper Saddle River, NJ, USA: Prentice Hall PTR, 2006.
<br/><br/>[13] E. Gamma, R. Helm, R. Johnson, and J. Vlissides, Design Patterns: Elements of Reusable Object-oriented Software. Boston, MA, USA: Addison-Wesley Longman Publishing Co., Inc., 1995.
<br/><br/>[14] M. Abbes, F. Khomh, Y. Gueheneuc, and G. Antoniol, “An empirical study of the impact of two antipatterns, blob and spaghetti code, on program comprehension,” in Proceedings of the 15th European Software Engineering Conference; Oldenburg, Germany, 2011, pp. 181–190.
<br/><br/>[15] I. Macia, J. Garcia, D. Popescu, A. Garcia, N. Medvidovic, and A. von Staa, “Are automatically-detected code anomalies relevant to architectural modularity?: An exploratory analysis of evolving systems,” in AOSD ’12. New York, NY, USA: ACM, 2012, pp. 167–178.
<br/><br/>[16] W. Oizumi, A. Garcia, L. Sousa, B. Cafeo, and Y. Zhao, “Code anomalies flock together: Exploring code anomaly agglomerations for locating design problems,” in The 38th International Conference on Software Engineering; USA, 2016.
<br/><br/>[17] L. Sousa, A. Oliveira, W. Oizumi, S. Barbosa, A. Garcia, J. Lee, M. Kalinowski, R. de Mello, B. Fonseca, R. Oliveira, C. Lucena, and R. Paes, “Identifying design problems in the source code: A grounded theory,” in Proceedings of the 40th International Conference on Software Engineering, ser. ICSE ’18. New York, NY, USA: ACM, 2018, pp. 921– 931. [Online]. Available: http://doi.acm.org/10.1145/3180155.3180239
<br/><br/>[18] S. Vidal, E. Guimaraes, W. Oizumi, A. Garcia, A. D. Pace, and C. Marcos, “Identifying architectural problems through prioritization of code smells,” in SBCARS16, Sept 2016, pp. 41–50.
<br/><br/>[19] L. Sousa, R. Oliveira, A. Garcia, J. Lee, T. Conte, W. Oizumi, R. de Mello, A. Lopes, N. Valentim, E. Oliveira, and C. Lucena, “How do software developers identify design problems?: A qualitative analysis,” in Proceedings of 31st Brazilian Symposium on Software Engineering, ser. SBES’17, 2017.
<br/><br/>[20] I. O. for Standardization, ISO-IEC 25010: 2011 Systems and Software Engineering-Systems and Software Quality Requirements and Evaluation (SQuaRE)-System and Software Quality Models. ISO, 2011.
<br/><br/>[21] A. Yamashita, M. Zanoni, F. A. Fontana, and B. Walter, “Inter-smell relations in industrial and open source systems: A replication and comparative analysis,” in Software Maintenance and Evolution (ICSME), 2015 IEEE International Conference on, Sept 2015, pp. 121–130.
<br/><br/>[22] I. Macia, R. Arcoverde, E. Cirilo, A. Garcia, and A. von Staa, “Supporting the identification of architecturally-relevant code anomalies,” in ICSM12, Sept 2012, pp. 662–665.
<br/><br/>[23] W. Oizumi, L. Sousa, A. Oliveira, A. Garcia, A. B. Agbachi, R. Oliveira, and C. Lucena, “On the identification of design problems in stinky code: experiences and tool support,” Journal of the Brazilian Computer Society, vol. 24, no. 1, p. 13, Oct 2018. [Online]. Available: https://doi.org/10.1186/s13173-018-0078-y
<br/><br/>[24] M. Lanza and R. Marinescu, Object-Oriented Metrics in Practice. Heidelberg: Springer, 2006.
<br/><br/>[25] A. Yamashita and L. Moonen, “Do code smells reflect important maintainability aspects?” in ICSM12, 2012, pp. 306–315.
<br/><br/>[26] N. Moha, Y. Gueheneuc, L. Duchien, and A. L. Meur, “Decor: A method for the specification and detection of code and design smells,” IEEE Transaction on Software Engineering, vol. 36, pp. 20–36, 2010.
<br/><br/>[27] S. R. Chidamber and C. F. Kemerer, “A metrics suite for object oriented design,” IEEE Transactions on Software Engineering, vol. 20, no. 6, pp. 476–493, June 1994.
<br/><br/>[28] T. J. McCabe, “A complexity measure,” IEEE Transactions on software Engineering, no. 4, pp. 308–320, 1976.
<br/><br/>[29] E. Murphy-Hill and A. P. Black, “Seven habits of a highly effective smell detector,” in Proceedings of the 2008 International Workshop on Recommendation Systems for Software Engineering, ser. RSSE ’08. New York, NY, USA: ACM, 2008, pp. 36–40.
<br/><br/>[30] D. M. Le, D. Link, A. Shahbazian, and N. Medvidovic, “An empirical study of architectural decay in open-source software,” in 2018 IEEE International Conference on Software Architecture (ICSA), April 2018, pp. 176–17 609.
<br/><br/>[31] L. Xiao, Y. Cai, R. Kazman, R. Mo, and Q. Feng, “Identifying and quantifying architectural debt,” in Proceedings of the 38th International Conference on Software Engineering, ser. ICSE ’16. New York, NY, USA: ACM, 2016, pp. 488–498. [Online]. Available: http://doi.acm.org/10.1145/2884781.2884822
<br/><br/>[32] Microsoft. (2019, February) Visual studio 2017 version 15.9 release notes. Available at https://docs.microsoft.com/pt-br/visualstudio/releasenotes/vs2017-relnotes.
<br/><br/>[33] T. Sharma, P. Mishra, and R. Tiwari, “Designite: A software design quality assessment tool,” in Proceedings of the 1st International Workshop on Bringing Architectural Design Thinking into Developers’ Daily Activities, ser. BRIDGE ’16. New York, NY, USA: ACM, 2016, pp. 1–4. [Online]. Available: http://doi.acm.org/10.1145/2896935. 2896938
<br/><br/>[34] T. R. Foundation. (2019, February) The r project for statistical computing. Available at https://www.r-project.org/.
<br/><br/>[35] R. Mo, Y. Cai, R. Kazman, and L. Xiao, “Hotspot patterns: The formal definition and automatic detection of architecture smells,” in Software Architecture (WICSA), 2015 12th Working IEEE/IFIP Conference on, May 2015, pp. 51–60.
<br/><br/>[36] I. Macia, R. Arcoverde, A. Garcia, C. Chavez, and A. von Staa, “On the relevance of code anomalies for identifying architecture degradation symptoms,” in CSMR12, March 2012, pp. 277–286.
<br/><br/>[37] W. Oizumi, A. Garcia, T. Colanzi, A. Staa, and M. Ferreira, “On the relationship of code-anomaly agglomerations and architectural problems,” Journal of Software Engineering Research and Development, vol. 3, no. 1, pp. 1–22, 2015.
<br/><br/>[38] M. Alenezi and M. Zarour, “An empirical study of bad smells during software evolution using designite tool,” i-Manager’s Journal on Software Engineering, vol. 12, no. 4, pp. 12–27, Apr 2018.
<br/><br/>[39] G. Bavota, A. D. Lucia, M. D. Penta, R. Oliveto, and F. Palomba, “An experimental investigation on the innate relationship between quality and refactoring,” Journal of Systems and Software, vol. 107, pp. 1 – 14, 2015. [Online]. Available: http://www.sciencedirect.com/science/article/pii/S0164121215001053
<br/><br/>[40] A. Chavez, I. Ferreira, E. Fernandes, D. Cedrim, and A. Garcia, “How does refactoring affect internal quality attributes?: A multi-project study,” in Proceedings of the 31st Brazilian Symposium on Software Engineering, ser. SBES’17. New York, NY, USA: ACM, 2017, pp. 74–
<br/><br/>83. [Online]. Available: http://doi.acm.org/10.1145/3131151.3131171
<br/><br/>[41] D. Cedrim, A. Garcia, M. Mongiovi, R. Gheyi, L. Sousa, R. de Mello, B. Fonseca, M. Ribeiro, and A. Chavez, “Understanding the impact of refactoring on smells: A longitudinal study of 23 software projects,” in Proceedings of the 2017 11th Joint Meeting on Foundations of Software Engineering, ser. ESEC/FSE 2017. New York, NY, USA: ACM, 2017, pp. 465–475. [Online]. Available: http://doi.acm.org/10.1145/3106237.3106259
</div>
</body>

</html>